(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ucenter-ucenter"],{"049c":function(t,e,n){t.exports=n.p+"static/img/nologin.35b21d57.png"},"0593":function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var o=i(n("1da1")),r={name:"cloud-image",emits:["click","switchChange"],props:{customClass:{type:String,default:function(){return""}},mode:{type:String,default:function(){return"widthFix"}},src:{default:function(){return""}},width:{type:String,default:function(){return"100rpx"}},height:{type:String,default:function(){return"100rpx"}}},watch:{src:{handler:function(e){var n=this;console.log(e),console.log(e.substring(0,8)),"cloud://"==e.substring(0,8)?t.getTempFileURL({fileList:[e]}).then((function(t){n.cSrc=t.fileList[0].tempFileURL})):this.cSrc=e},immediate:!0}},mounted:function(){return(0,o.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{onClick:function(){this.$emit("click")}},data:function(){return{cSrc:!1}}};e.default=r}).call(this,n("a9ff")["default"])},2812:function(t,e,n){"use strict";var i=n("45cf"),o=n.n(i);o.a},"2c11":function(t,e,n){"use strict";var i=n("4ea4");n("caad"),n("2532"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;i(n("55ab"));function o(){}},"3a51":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{class:t.customClass,style:{width:t.width,height:t.height},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[t.cSrc?n("v-uni-image",{staticClass:"center-image",style:{width:t.width,height:t.height},attrs:{src:t.cSrc,mode:t.mode}}):t._e()],1)},r=[]},"45cf":function(t,e,n){var i=n("e466");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("1f3bf7b6",i,!0,{sourceMap:!1,shadowMode:!1})},"45eb":function(t,e,n){"use strict";n("e439"),n("5d41"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=o(n("5d34"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,n,o){return"undefined"!==typeof Reflect&&Reflect.get?e.default=r=Reflect.get:e.default=r=function(t,e,n){var o=(0,i.default)(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}},r(t,n,o||t)}},"4cd4":function(t,e,n){var i=n("fcac");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("360d324a",i,!0,{sourceMap:!1,shadowMode:!1})},"536d":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uNavbar:n("e660").default,cloudImage:n("7c9e").default,uniList:n("d6b5").default,uniListItem:n("c95d").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"center"},[i("v-uni-view",{staticClass:"userInfo",on:{"!click":function(e){arguments[0]=e=t.$handleEvent(e),t.toUserInfo.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"usercenter-top"},[i("u-navbar",{attrs:{"is-back":!0,title:"个人中心","border-bottom":!1,"title-color":"#fff","back-icon-color":"#fff",background:{background:"none"}}})],1),t.userInfo.avatar_file&&t.userInfo.avatar_file.url?i("cloud-image",{attrs:{width:"150rpx",height:"150rpx",src:t.userInfo.avatar_file.url}}):i("v-uni-image",{staticClass:"logo-img",attrs:{src:n("049c")}}),i("v-uni-view",{staticClass:"logo-title"},[t.hasLogin?i("v-uni-text",{staticClass:"uer-name"},[t._v(t._s(t.userInfo.nickname||t.userInfo.username||t.userInfo.mobile))]):i("v-uni-text",{staticClass:"uer-name"},[t._v(t._s(t.$t("mine.notLogged")))])],1)],1),t._l(t.ucenterList,(function(e,n){return i("uni-list",{key:n,staticClass:"center-list"},t._l(e,(function(e,n){return i("uni-list-item",{key:n,attrs:{title:e.title,link:!0,rightText:e.rightText,clickable:!0,to:e.to,thumb:e.thumb},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.ucenterListClick(e)}},scopedSlots:t._u([{key:"footer",fn:function(){return[e.showBadge?i("v-uni-view",{staticClass:"item-footer"},[i("v-uni-text",{staticClass:"item-footer-text"},[t._v(t._s(e.rightText))]),i("v-uni-view",{staticClass:"item-footer-badge"})],1):t._e()]},proxy:!0}],null,!0)})})),1)})),i("v-uni-view",{staticClass:"bottom-back",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickLogout.apply(void 0,arguments)}}},[t.hasLogin?i("v-uni-text",{staticClass:"bottom-back-text"},[t._v(t._s(t.$t("settings.logOut")))]):i("v-uni-text",{staticClass:"bottom-back-text"},[t._v(t._s(t.$t("settings.login")))])],1)],2)},r=[]},"55ab":function(t,e,n){"use strict";function i(){return new Promise((function(t,e){e({message:"请在App中使用"})}))}n("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},"58e1":function(t,e,n){"use strict";n.r(e);var i=n("536d"),o=n("c8a6");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n("2812");var a,c=n("f0c5"),s=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"b8741792",null,!1,i["a"],a);e["default"]=s.exports},"5d34":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=o(n("7e84"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=(0,i.default)(t),null===t)break;return t}},"602a":function(t,e,n){"use strict";n.r(e);var i=n("0593"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},7360:function(t,e,n){"use strict";var i=n("4ea4");n("99af"),n("4160"),n("e25e"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,r,a=i(n("d4ec")),c=i(n("bee2")),s=function(){function t(e){(0,a.default)(this,t),this.isShow=!1}return(0,c.default)(t,[{key:"show",value:function(t,e){var n=this,i=t.list,a=t.cancelText;i||(i=[{img:"/static/sharemenu/wechatfriend.png",text:"图标文字"}]);var c=plus.screen.resolutionWidth,s=20,u=60,l=5,f=12,d=s/360*c,h=(c-2*d-4*u)/3;h<=5&&(s=15,u=40,d=s/360*c,h=(c-2*d-4*u)/3);var p=d+u+h,g=d+2*(u+h),v=d+3*(u+h),b=d,m=b+u+l+f+d,x={top1:b,top2:m},w={left1:d,left2:p,left3:g,left4:v};o=new plus.nativeObj.View("nvMask",{top:"0px",left:"0px",height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0.2)"}),r=new plus.nativeObj.View("nvImageMenu",{bottom:"0px",left:"0px",height:(u+f+2*s)*Math.ceil(i.length/4)+44+"px",width:"100%",backgroundColor:"rgb(255,255,255)"}),o.addEventListener("click",(function(){n.hide(),e({event:"clickMask"})}));var y=[];i.forEach((function(t,e){y.push({tag:"img",src:t.img,position:{top:x["top"+(parseInt(e/4)+1)],left:w["left"+(1+e%4)],width:u,height:u}}),y.push({tag:"font",text:t.text,textStyles:{size:f},position:{top:x["top"+(parseInt(e/4)+1)]+u+l,left:w["left"+(1+e%4)],width:u,height:f}})})),r.draw([{tag:"rect",color:"#e7e7e7",position:{top:"0px",height:"1px"}},{tag:"font",text:a,textStyles:{size:"14px"},position:{bottom:"0px",height:"44px"}},{tag:"rect",color:"#e7e7e7",position:{bottom:"45px",height:"1px"}}].concat(y)),o.show(),r.show(),this.isShow=!0,r.addEventListener("click",(function(t){if(t.screenY>plus.screen.resolutionHeight-44)n.hide();else if(t.clientX<5||t.clientX>c-5||t.clientY<5);else{var i=-1,o=t.clientY<m-d/2?0:1,r=-1;r=t.clientX<p-h/2?0:t.clientX<g-h/2?1:t.clientX<v-h/2?2:3,i=0==o?r:r+4,e({event:"clickMenu",index:i})}}))}},{key:"hide",value:function(){o.hide(),r.hide(),this.isShow=!1}}]),t}(),u=s;e.default=u},"7c9e":function(t,e,n){"use strict";n.r(e);var i=n("3a51"),o=n("602a");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n("8051");var a,c=n("f0c5"),s=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"4abad5dd",null,!1,i["a"],a);e["default"]=s.exports},8051:function(t,e,n){"use strict";var i=n("4cd4"),o=n.n(i);o.a},"964b":function(t,e,n){"use strict";var i=n("4ea4");n("4de4"),n("4160"),n("caad"),n("d81d"),n("2532"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("5530"));n("96cf");var r=i(n("1da1")),a=i(n("d4ec")),c=i(n("bee2")),s=i(n("257e")),u=i(n("262e")),l=i(n("2caf")),f=i(n("45eb")),d=i(n("7e84")),h=i(n("7360")),p=function(t){(0,u.default)(n,t);var e=(0,l.default)(n);function n(t){var i,o;return(0,a.default)(this,n),o=e.call(this),o.isShow=(0,f.default)((i=(0,s.default)(o),(0,d.default)(n.prototype)),"isShow",i),o}return(0,c.default)(n,[{key:"show",value:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e,i){var r,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=[],plus.share.getServices((function(t){t=t.filter((function(t){return t.nativeClient}));var c=t.map((function(t){return t.id}));e.menus.forEach((function(t){(c.includes(t.share.provider)||"string"==typeof t.share)&&r.push(t)})),(0,f.default)((0,d.default)(n.prototype),"show",a).call(a,{list:r,cancelText:e.cancelText},(function(t){i(t),"clickMenu"==t.event&&("string"==typeof r[t.index]["share"]?a[r[t.index]["share"]](e):uni.share((0,o.default)((0,o.default)((0,o.default)({},e.content),r[t.index].share),{},{success:function(t){console.log("success:"+JSON.stringify(t)),(0,f.default)((0,d.default)(n.prototype),"hide",a).call(a)},fail:function(t){console.log("fail:"+JSON.stringify(t)),uni.showModal({content:JSON.stringify(t),showCancel:!1,confirmText:"知道了"})}})))}))}),(function(t){uni.showModal({title:"获取服务供应商失败："+JSON.stringify(t),showCancel:!1,confirmText:"知道了"}),console.error("获取服务供应商失败："+JSON.stringify(t))}));case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"hide",value:function(){(0,f.default)((0,d.default)(n.prototype),"hide",this).call(this)}},{key:"copyurl",value:function(t){var e=this;console.log("copyurl",t),uni.setClipboardData({data:t.content.href,success:function(){console.log("success"),uni.hideToast(),uni.showToast({title:"复制成功",icon:"none"}),(0,f.default)((0,d.default)(n.prototype),"hide",e).call(e)},fail:function(t){uni.showModal({content:JSON.stringify(t),showCancel:!1})}})}},{key:"shareSystem",value:function(t){var e=this;console.log("shareSystem",t),plus.share.sendWithSystem({type:"text",content:t.content.title+t.content.summary||"",href:t.content.href},(function(t){console.log("分享成功"),(0,f.default)((0,d.default)(n.prototype),"hide",e).call(e)}),(function(t){console.log("分享失败："+JSON.stringify(t)),uni.showModal({title:"获取服务供应商失败："+JSON.stringify(t),showCancel:!1,confirmText:"知道了"})}))}}]),n}(h.default),g=p;e.default=g},c66e:function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var o=i(n("1da1")),r=i(n("5530")),a=n("2f62"),c=i(n("2c11")),s=i(n("55ab")),u=i(n("964b")),l=new u.default,f=(t.database(),{onBackPress:function(t){var e=t.from;if("backbutton"==e)return this.$nextTick((function(){l.hide()})),l.isShow},data:function(){return{gridList:[{text:"收藏",icon:"chat",to:"/pages/myfavorite/myfavorite"},{text:"足迹",icon:"cloud-upload",to:"/pages/history/history"},{text:"投稿",icon:"cloud-upload",to:"/pages/jz-opendb-resources/list"}],ucenterList:[[{title:this.$t("mine.userinfo"),to:"/pages/ucenter/userinfo/userinfo",thumb:"/static/center/user.png"},{title:"浏览足迹",to:"/pages/history/history",thumb:"/static/center/llzj.png"},{title:"我的投稿",to:"/pages/jz-opendb-resources/list",thumb:"/static/center/tg.png"},{title:"我的收藏",to:"/pages/myfavorite/myfavorite",thumb:"/static/center/sc.png"},{title:"我的邀请码",to:"/pages/jz-custom-yqm/list",thumb:"/static/center/yqm.png"},{title:this.$t("mine.feedback"),to:"/uni_modules/uni-feedback/pages/opendb-feedback/opendb-feedback",thumb:"/static/center/question.png"}]],listStyles:{height:"150rpx",width:"150rpx",border:{color:"#eee",width:"1px",style:"solid",radius:"100%"}}}},onLoad:function(){},computed:(0,r.default)((0,r.default)({},(0,a.mapGetters)({userInfo:"user/info",hasLogin:"user/hasLogin"})),{},{appConfig:function(){return getApp().globalData.config}}),methods:(0,r.default)((0,r.default)((0,r.default)({goback:function(){uni.switchTab({url:"/pages/index/index"})}},(0,a.mapMutations)({logout:"user/logout"})),{},{clickLogout:function(){var t=this;this.hasLogin?uni.showModal({title:this.$t("settings.tips"),content:this.$t("settings.exitLogin"),cancelText:this.$t("settings.cancelText"),confirmText:this.$t("settings.confirmText"),success:function(e){e.confirm&&(t.logout(),uni.navigateBack())},fail:function(){},complete:function(){}}):uni.navigateTo({url:"/pages/ucenter/login-page/index/index"})}},(0,a.mapMutations)({setUserInfo:"user/login"})),{},{toSettings:function(){uni.navigateTo({url:"/pages/ucenter/settings/settings"})},signIn:function(){this.$refs.signIn.open()},ucenterListClick:function(t){!t.to&&t.event&&this[t.event]()},checkVersion:function(){return(0,o.default)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,s.default)();case 2:e=t.sent,console.log(e),e.result.code>0?(0,c.default)():uni.showToast({title:e.result.message,icon:"none"});case 5:case"end":return t.stop()}}),t)})))()},toUserInfo:function(){uni.navigateTo({url:"/pages/ucenter/userinfo/userinfo"})}})});e.default=f}).call(this,n("a9ff")["default"])},c8a6:function(t,e,n){"use strict";n.r(e);var i=n("c66e"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},e466:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/***字体大小规范***/\r\n/***颜色定义***/\r\n/***行间距***/.usercenter-top[data-v-b8741792]{color:#fff;font-size:16px;margin-bottom:50px}.usercenter-top-left[data-v-b8741792]{position:absolute;left:4px}.bottom-back[data-v-b8741792]{margin-top:10px;width:%?750?%;height:44px;display:flex;flex-direction:column;justify-content:center;align-items:center;border:none;border-width:0;border-radius:0;background-color:#fff}.bottom-back-text[data-v-b8741792]{font-size:%?33?%}uni-view[data-v-b8741792]{display:flex;box-sizing:border-box;flex-direction:column}uni-page-body[data-v-b8741792]{background-color:#f8f8f8}.center[data-v-b8741792]{flex:1;flex-direction:column;background-color:#f8f8f8}.userInfo[data-v-b8741792]{width:%?750?%;background-image:url(/static/center/backcenter.jpg);flex-direction:column;align-items:center;background-size:cover}.logo-img[data-v-b8741792]{width:%?150?%;height:%?150?%;border-radius:%?150?%}.logo-title[data-v-b8741792]{flex:1;align-items:center;justify-content:space-between;flex-direction:row}.uer-name[data-v-b8741792]{height:%?100?%;line-height:%?100?%;font-size:%?32?%;color:#fff}.center-list[data-v-b8741792]{margin-bottom:%?30?%;background-color:#f9f9f9}.center-list-cell[data-v-b8741792]{width:%?750?%;background-color:#7275d3;height:%?40?%}.grid[data-v-b8741792]{background-color:#fff;margin-bottom:6px}.uni-grid .text[data-v-b8741792]{font-size:%?30?%;height:25px;line-height:25px;color:#817f82}.uni-grid .item[data-v-b8741792]  .uni-grid-item__box{justify-content:center;align-items:center}\r\n/*修改边线粗细示例*/.center-list[data-v-b8741792]  .uni-list--border:after{-webkit-transform:scaleY(.2);transform:scaleY(.2);margin-left:%?80?%}.center-list[data-v-b8741792]  .uni-list--border-top,\r\n.center-list[data-v-b8741792]  .uni-list--border-bottom{display:none}.item-footer[data-v-b8741792]{flex-direction:row;align-items:center}.item-footer-text[data-v-b8741792]{color:#999;font-size:%?24?%;padding-right:%?10?%}.item-footer-badge[data-v-b8741792]{width:%?20?%;height:%?20?%;border-radius:50%;background-color:#dd524d}body.?%PAGE?%[data-v-b8741792]{background-color:#f8f8f8}',""]),t.exports=e},fcac:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".center-image[data-v-4abad5dd]{border-radius:50%}.uploadZy .center-image[data-v-4abad5dd]{border-radius:0}",""]),t.exports=e}}]);